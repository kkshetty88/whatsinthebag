<!DOCTYPE html>
<html lang="en-US">
<head>
<script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
<!-- Load required Bootstrap and BootstrapVue CSS -->
<link type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap/dist/css/bootstrap.min.css" />
<link type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css" />

<!-- Load polyfills to support older browsers -->
<script src="//polyfill.io/v3/polyfill.min.js?features=es2015%2CIntersectionObserver" crossorigin="anonymous"></script>

<!-- Load Vue followed by BootstrapVue -->
<script src="//unpkg.com/vue@latest/dist/vue.min.js"></script>
<script src="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.js"></script>

<!-- Load the following for BootstrapVueIcons support -->
<script src="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue-icons.min.js"></script>
<script src="javascripts/index.js"></script>
<link rel="stylesheet" type="text/css" href="stylesheets/custom.css">
</head>
<body>
    <div id="app">
        <div v-if="isLoading" class="loader">
        </div>
        <div v-if="!isLoading">
            <div class="welcomeDiv" v-if="!isWelcomeHidden">
                <div><h2 class="text-center">Welcome to whats in the bag!!!</h2></div>
                <div class="pt-4 text-center">
                    <button v-on:click="startNew" type="button" class="btn btn-primary">Start a new game</button>
                    <button v-on:click="joinGame" type="button" class="btn btn-primary ml-2">Join a game</button>
                </div>
            </div>
            <div class="flex enterGameDiv" v-if="!isStartGameHidden">
                <div class="flex-row pt-4">
                <span class="col-md-3">PlayerName</span> 
                <input v-model="playerName" type="text" class="form-control ml-3">
                <button v-on:click="enterGame" type="button" class="ml-3">Enter</button>
                </div>
            </div>
            <div class="flex enterGameDiv" v-if="!isJoinGameHidden">
                <div class="flex-row pt-4">
                <span class="col-md-2 mt-1">PlayerName</span> 
                <input v-model="playerName" type="text" class="form-control col-md-3">
                <span class="mx-2 mt-1">GameId</span> 
                <input v-model="gameId" type="text" class="form-control col-md-3">
                <button v-on:click="enterGameGuest" type="button" class="col-md-2 ml-3">Enter</button>
                </div>
            </div>
            <div class="flex" v-if="isGameInProgress">
                <div class="flex-row">{{gameDescription}}</div>
                <div class="flex-row"><button v-if="isAdmin" v-on:click="createTeams" type="button" class="btn btn-primary">Create Teams!</button><button v-if="!isAdmin" v-on:click="beginGame" type="button" class="btn btn-primary">Begin!</button><button v-on:click="clearCookies" type="button" class="btn btn-primary">Exit</button></div>
            </div>
            <div class="flex-column" v-if="showCreateTeams">
                <div class="flex-row">{{gameDescription}}</div>
                <div class="flex-row">
                    <li v-for="player in players">
                        {{ player }}
                        <select v-model="selected[player]">
                            <option disabled value="">Please select one</option>
                            <option>A</option>
                            <option>B</option>
                        </select>
                    </li>
                </div>
                <div class="flex-row"><button v-on:click="submitTeams" type="button">Submit Teams</button><button v-on:click="beginGame" type="button" class="btn btn-primary">Begin!</button><button v-on:click="clearCookies" type="button" class="btn btn-primary">Exit</button></div>
            </div>
            <div class="flex flex-column" v-if="showWords">
                <div class="flex-row full-width">
                    <div class="xx-large flex-grow-1 flex-column">
                        {{currentWord}}
                    </div>
                    <div class="pl2 flex-grow-4 flex-column">
                        <div class="flex-row"><button v-on:click="correct" type="button" class="btn btn-primary">Correct</button></div>
                        <div class="flex-row"><button v-if="showPass" v-on:click="pass" type="button" class="btn btn-primary">Pass</button></div>
                        <div class="flex-row"><button v-on:click="endTurn" type="button" class="btn btn-primary">End Turn</button></div>
                    </div>
                    <div class="pl2 flex-grow-1 flex-column">
                        <div class="flex-row">Team {{currentTeam}} Score: {{score[currentTeam]}}</div>
                        <div class="flex-row">{{timeLeft.message}}</div>
                    </div>
                </div>
                <div class="flex-row ml50">
                    Round {{round}}
                </div>
            </div>
            <div v-if="showScores" class="flex-column xx-large">
                <div class="flex-row">
                    <div class="flex-grow-1">Team A {{teamPlayers['A'].join(', ') }}</div>
                    <div class="flex-grow-1">Team B {{teamPlayers['B'].join(', ')}}</div>
                </div>
                <div class="flex-row">
                    <div class="flex-grow-1">{{score['A']}}</div>
                    <div class="flex-grow-1">{{score['B']}}</div>
                </div>
                <div v-if="isGameEnded" class="flex-row">
                    Team {{winner}} Wins!
                </div>
                <div v-if="!isGameEnded" class="flex-row">
                    Next Turn: Team {{currentTeam}} Round {{round}}
                </div>
                <div class="flex-row pt2"><button v-if="!isGameEnded" v-on:click="beginGame" type="button" class="btn btn-primary">Resume!</button><button v-on:click="clearCookies" type="button" class="btn btn-primary">Exit</button></div>
            </div>
        </div>
    </div>
</body>

</html>